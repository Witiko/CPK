(function(){function G(){var a;if("undefined"!==typeof global)a=global;else if("undefined"!==typeof self)a=self;else try{a=Function("return this")()}catch(c){throw Error("polyfill failed because global object is unavailable in this environment");}var b=a.Promise;if(!b||"[object Promise]"!==Object.prototype.toString.call(b.resolve())||b.A)a.Promise=f}function A(a){if(a&&"object"===typeof a&&a.constructor===this)return a;var b=new this(l);u(b,a);return b}function B(a,b){var c=this,d=new this.constructor(l);
void 0===d[x]&&H(d);var g=c.b;if(g){var e=arguments[g-1];k(function(){I(g,d,e,c.a)})}else C(c,d,a,b);return d}function k(a,b){n[p]=a;n[p+1]=b;p+=2;2===p&&(D?D(q):J())}function T(){return function(){process.B(q)}}function U(){return function(){K(q)}}function V(){var a=0,b=new L(q),c=document.createTextNode("");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function W(){var a=new MessageChannel;a.port1.onmessage=q;return function(){a.port2.postMessage(0)}}function M(){return function(){setTimeout(q,
1)}}function q(){for(var a=0;a<p;a+=2)(0,n[a])(n[a+1]),n[a]=void 0,n[a+1]=void 0;p=0}function X(){try{var a=require("vertx");K=a.F||a.D;return U()}catch(b){return M()}}function l(){}function N(a){try{return a.then}catch(b){return y.error=b,y}}function Y(a,b,c,d){try{a.call(b,c,d)}catch(g){return g}}function Z(a,b,c){k(function(a){var g=!1,e=Y(c,b,function(c){g||(g=!0,b!==c?u(a,c):m(a,c))},function(b){g||(g=!0,h(a,b))});!g&&e&&(g=!0,h(a,e))},a)}function aa(a,b){b.b===v?m(a,b.a):b.b===r?h(a,b.a):C(b,
void 0,function(b){u(a,b)},function(b){h(a,b)})}function O(a,b,c){b.constructor===a.constructor&&c===B&&constructor.resolve===A?aa(a,b):c===y?h(a,y.error):void 0===c?m(a,b):"function"===typeof c?Z(a,b,c):m(a,b)}function u(a,b){a===b?h(a,new TypeError("You cannot resolve a promise with itself")):"function"===typeof b||"object"===typeof b&&null!==b?O(a,b,N(b)):m(a,b)}function ba(a){a.j&&a.j(a.a);E(a)}function m(a,b){a.b===t&&(a.a=b,a.b=v,0!==a.f.length&&k(E,a))}function h(a,b){a.b===t&&(a.b=r,a.a=b,
k(ba,a))}function C(a,b,c,d){var g=a.f,e=g.length;a.j=null;g[e]=b;g[e+v]=c;g[e+r]=d;0===e&&a.b&&k(E,a)}function E(a){var b=a.f,c=a.b;if(0!==b.length){for(var d,g,e=a.a,f=0;f<b.length;f+=3)d=b[f],g=b[f+c],d?I(c,d,g,e):g(e);a.f.length=0}}function P(){this.error=null}function I(a,b,c,d){var g="function"===typeof c,e,f,k,l;if(g){try{e=c(d)}catch(n){F.error=n,e=F}e===F?(l=!0,f=e.error,e=null):k=!0;if(b===e){h(b,new TypeError("A promises callback cannot return that same promise."));return}}else e=d,k=!0;
b.b===t&&(g&&k?u(b,e):l?h(b,f):a===v?m(b,e):a===r&&h(b,e))}function ca(a,b){try{b(function(b){u(a,b)},function(b){h(a,b)})}catch(c){h(a,c)}}function H(a){a[x]=Q++;a.b=void 0;a.a=void 0;a.f=[]}function f(a){this[x]=Q++;this.a=this.b=void 0;this.f=[];if(l!==a){if("function"!==typeof a)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof f)ca(this,a);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}function w(a,b){this.s=a;this.c=new a(l);this.c[x]||H(this.c);R(b)?(this.o=b,this.g=this.length=b.length,this.a=Array(this.length),0===this.length?m(this.c,this.a):(this.length=this.length||0,this.m(),0===this.g&&m(this.c,this.a))):h(this.c,Error("Array Methods must be provided an Array"))}var R=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},p=0,K,D,S="undefined"!==typeof window?window:void 0,z=S||{},L=z.MutationObserver||z.WebKitMutationObserver,
z="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,n=Array(1E3),J;J="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process)?T():L?V():z?W():void 0===S&&"function"===typeof require?X():M();var x=Math.random().toString(36).substring(16),t=void 0,v=1,r=2,y=new P,F=new P,Q=0;f.all=function(a){return(new da(this,a)).c};f.race=function(a){var b=this;return R(a)?new b(function(c,d){for(var g=a.length,
e=0;e<g;e++)b.resolve(a[e]).then(c,d)}):new b(function(a,b){b(new TypeError("You must pass an array to race."))})};f.resolve=A;f.reject=function(a){var b=new this(l);h(b,a);return b};f.w=function(a){D=a};f.v=function(a){k=a};f.u=k;f.prototype={constructor:f,then:B,"catch":function(a){return this.then(null,a)}};var da=w;w.prototype.m=function(){for(var a=this.length,b=this.o,c=0;this.b===t&&c<a;c++)this.l(b[c],c)};w.prototype.l=function(a,b){var c=this.s,d=c.resolve;d===A?(d=N(a),d===B&&a.b!==t?this.h(a.b,
b,a.a):"function"!==typeof d?(this.g--,this.a[b]=a):c===f?(c=new c(l),O(c,a,d),this.i(c,b)):this.i(new c(function(b){b(a)}),b)):this.i(d(a),b)};w.prototype.h=function(a,b,c){var d=this.c;d.b===t&&(this.g--,a===r?h(d,c):this.a[b]=c);0===this.g&&m(d,this.a)};w.prototype.i=function(a,b){var c=this;C(a,void 0,function(a){c.h(v,b,a)},function(a){c.h(r,b,a)})};f.Promise=f;f.C=G;"function"===typeof define&&define.amd?define(function(){return f}):"undefined"!==typeof module&&module.exports?module.exports=
f:"undefined"!==typeof this&&(this.Promise=f);G()}).call(this);